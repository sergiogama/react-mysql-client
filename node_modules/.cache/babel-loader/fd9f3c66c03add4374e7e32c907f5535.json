{"ast":null,"code":"import _slicedToArray from\"/Users/sergiogama/Documents/Estudos/innova-talk/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import'./App.css';import Axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),nome=_useState4[0],setNome=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),telefone=_useState6[0],setTelefone=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),clientesList=_useState8[0],setClientesList=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),novoTelefone=_useState10[0],setNovoTelefone=_useState10[1];var APIURL=process.env.APIURL||\"http://localhost:3001/\";useEffect(function(){Axios.get(APIURL+\"db/get\").then(function(response){setClientesList(response.data);alert(APIURL);//console.log(response)\n});});var incluirCliente=function incluirCliente(){Axios.post(APIURL+\"db/insert\",{id:id,nome:nome,telefone:telefone}).then(function(){alert(\"Cliente incluído\");});};var alterarCliente=function alterarCliente(idCliente){Axios.put(APIURL+\"db/update\",{id:idCliente,telefone:novoTelefone}).then(function(){alert(\"Cliente alterado\");setNovoTelefone(\"\");});};var excluirCliente=function excluirCliente(idCliente){Axios.delete(\"\".concat(APIURL,\"db/delete/\").concat(idCliente));alert(\"Cliente excluído\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Innova Talk 2022\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"ID do Cliente:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"id\",onChange:function onChange(e){setId(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Nome:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"nome\",onChange:function onChange(e){setNome(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{children:\"Telefone:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"type\",name:\"telefone\",onChange:function onChange(e){setTelefone(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:incluirCliente,children:\"Enviar\"}),clientesList.map(function(val){return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[val.id,\" - \",val.nome]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Telefone: \",val.telefone,\" \"]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){excluirCliente(val.id);},children:\"Excluir\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"alterarInput\",onChange:function onChange(e){setNovoTelefone(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){alterarCliente(val.id);},children:\"Alterar\"})]});})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Axios","App","id","setId","nome","setNome","telefone","setTelefone","clientesList","setClientesList","novoTelefone","setNovoTelefone","APIURL","process","env","get","then","response","data","alert","incluirCliente","post","alterarCliente","idCliente","put","excluirCliente","delete","e","target","value","map","val"],"sources":["/Users/sergiogama/Documents/Estudos/innova-talk/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './App.css';\nimport Axios from \"axios\";\n\nfunction App() {\n\n  const [id, setId] = useState('');\n  const [nome, setNome] = useState('');\n  const [telefone, setTelefone] = useState('');\n  const [clientesList, setClientesList] = useState([]);\n  const [novoTelefone, setNovoTelefone] = useState(\"\");\n  const APIURL = process.env.APIURL || \"http://localhost:3001/\";\n\n  useEffect(() => {\n    Axios.get(APIURL + \"db/get\").then((response)=> {\n      setClientesList(response.data);\n      alert(APIURL);\n      //console.log(response)\n    });\n  });\n\n  const incluirCliente = () => {\n    Axios.post(APIURL + \"db/insert\", {\n      id:id, \n      nome: nome, \n      telefone:telefone\n    }).then(() => {\n      alert(\"Cliente incluído\");\n    });\n  };\n\n  const alterarCliente = (idCliente) => {\n    Axios.put(APIURL + \"db/update\", {\n      id:idCliente, \n      telefone:novoTelefone\n    }).then(() => {\n      alert(\"Cliente alterado\");\n      setNovoTelefone(\"\");\n    });\n  };\n\n  const excluirCliente = (idCliente) => {\n     Axios.delete(`${APIURL}db/delete/${idCliente}`);\n     alert(\"Cliente excluído\");\n  };\n\n  return (\n    <div className=\"App\">\n      <h1>Innova Talk 2022</h1>\n      <div className=\"form\">\n        <label>ID do Cliente:</label>\n        <input type=\"text\" name=\"id\" onChange={(e)=> {\n          setId(e.target.value)\n        }}/>\n        <label>Nome:</label>\n        <input type=\"text\" name=\"nome\" onChange={(e)=> {\n          setNome(e.target.value)\n        }}/>\n        <label>Telefone:</label>\n        <input type=\"type\" name=\"telefone\" onChange={(e)=> {\n          setTelefone(e.target.value)\n        }}/>\n        <button onClick={incluirCliente}>Enviar</button>\n\n        {clientesList.map((val) => {\n          return(\n            <div className=\"card\">\n              <h1>{val.id} - {val.nome}</h1> \n              <p>Telefone: {val.telefone} </p>\n              <button onClick={() => {excluirCliente(val.id)}}>Excluir</button>\n              <input type=\"text\" id=\"alterarInput\" onChange={(e)=> {\n                setNovoTelefone(e.target.value);\n              }}/>\n              <button onClick={() => {alterarCliente(val.id)}}>Alterar</button>\n            </div>\n          )\n        })}\n      </div>\n     </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}